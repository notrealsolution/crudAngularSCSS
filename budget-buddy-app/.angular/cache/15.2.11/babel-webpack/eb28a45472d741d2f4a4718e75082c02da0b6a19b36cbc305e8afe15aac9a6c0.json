{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/expense.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/router\";\nfunction ExpenseListComponent_ng_container_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainer(0);\n  }\n}\nfunction ExpenseListComponent_ng_template_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"e\");\n  }\n}\nexport class ExpenseListComponent {\n  constructor(expenseService) {\n    this.expenseService = expenseService;\n    this.expenses = [];\n    this.total = 0;\n  }\n  ngOnInit() {\n    this.loadDataIntoTable();\n  }\n  loadDataIntoTable() {\n    this.expenseService.getExpenses().subscribe(expenses => {\n      this.expenses = expenses;\n      this.calculateTotal();\n    });\n  }\n  calculateTotal() {\n    this.total = this.expenses.reduce((accumulated, currentValue) => {\n      return accumulated + Number(currentValue.amount);\n    }, 0);\n  }\n  static #_ = this.ɵfac = function ExpenseListComponent_Factory(t) {\n    return new (t || ExpenseListComponent)(i0.ɵɵdirectiveInject(i1.ExpenseService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ExpenseListComponent,\n    selectors: [[\"app-expense-list\"]],\n    decls: 30,\n    vars: 5,\n    consts: [[1, \"d-flex\", \"align-items-center\", \"justify-content-between\", \"gap-2\", \"flex-wrap\", \"mt-5\", \"mb-4\"], [1, \"d-flex\", \"align-items-center\", \"flex-wrap\", \"gap-3\", \"gap-sm-5\"], [1, \"m-0\"], [1, \"fw-bold\", \"ms-1\"], [1, \"ri-arrow-down-s-fill\", \"text-danger\"], [\"routerLink\", \"/gastos/nuevo\", 1, \"btn\", \"btn-primary\"], [1, \"table-responsive\", \"mb-5\"], [1, \"table\"], [\"scope\", \"col\"], [\"scope\", \"col\", \"width\", \"180\"], [4, \"ngIf\", \"ngIfElse\"], [\"emptyMessage\", \"\"]],\n    template: function ExpenseListComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\");\n        i0.ɵɵtext(2, \"Gastos\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"div\", 1)(4, \"p\", 2)(5, \"span\", 3)(6, \"i\", 4);\n        i0.ɵɵtext(7);\n        i0.ɵɵpipe(8, \"currency\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(9, \"a\", 5);\n        i0.ɵɵtext(10, \"Agregar gasto\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(11, \"div\", 6)(12, \"table\", 7)(13, \"thead\")(14, \"tr\")(15, \"th\", 8);\n        i0.ɵɵtext(16, \"#\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"th\", 8);\n        i0.ɵɵtext(18, \"Tipo\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(19, \"th\", 8);\n        i0.ɵɵtext(20, \"Cantidad\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(21, \"th\", 8);\n        i0.ɵɵtext(22, \"Descripci\\u00F3n\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(23, \"th\", 9);\n        i0.ɵɵtext(24, \"Fecha de gasto\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(25, \"th\", 8);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(26, \"tbody\");\n        i0.ɵɵtemplate(27, ExpenseListComponent_ng_container_27_Template, 1, 0, \"ng-container\", 10);\n        i0.ɵɵtemplate(28, ExpenseListComponent_ng_template_28_Template, 1, 0, \"ng-template\", null, 11, i0.ɵɵtemplateRefExtractor);\n        i0.ɵɵelementEnd()()();\n      }\n      if (rf & 2) {\n        const _r1 = i0.ɵɵreference(29);\n        i0.ɵɵadvance(7);\n        i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(8, 3, ctx.total), \" \");\n        i0.ɵɵadvance(20);\n        i0.ɵɵproperty(\"ngIf\", ctx.expenses.length)(\"ngIfElse\", _r1);\n      }\n    },\n    dependencies: [i2.NgIf, i3.RouterLink, i2.CurrencyPipe],\n    styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"mappings":";;;;;;IA0BYA,wBAEe;;;;;IACYA,iBAAC;;;ACpBxC,OAAM,MAAOC,oBAAoB;EAG/BC,YACUC,cAA8B;IAA9B,mBAAc,GAAdA,cAAc;IAHxB,aAAQ,GAAc,EAAE;IACxB,UAAK,GAAU,CAAC;EAGd;EACFC,QAAQ;IACN,IAAI,CAACC,iBAAiB,EAAE;EAC1B;EACAA,iBAAiB;IACf,IAAI,CAACF,cAAc,CAACG,WAAW,EAAE,CAACC,SAAS,CAAEC,QAAQ,IAAG;MACtD,IAAI,CAACA,QAAQ,GAAGA,QAAQ;MACxB,IAAI,CAACC,cAAc,EAAE;IACvB,CAAC,CAAC;EACJ;EACAA,cAAc;IACZ,IAAI,CAACC,KAAK,GAAG,IAAI,CAACF,QAAQ,CAACG,MAAM,CAAC,CAACC,WAAW,EAAEC,YAAY,KAAI;MAC9D,OAAOD,WAAW,GAAGE,MAAM,CAACD,YAAY,CAACE,MAAM,CAAC;IAClD,CAAC,EAAE,CAAC,CAAC;EACP;EAAC;qBAnBUd,oBAAoB;EAAA;EAAA;UAApBA,oBAAoB;IAAAe;IAAAC;IAAAC;IAAAC;IAAAC;MAAA;QDTjCpB,8BAAyF;QACjFA,sBAAM;QAAAA,iBAAK;QACfA,8BAAgE;QAIhDA,YACJ;;QAAAA,iBAAI;QAGZA,4BAAuD;QAAAA,8BAAa;QAAAA,iBAAI;QAGhFA,+BAAmC;QAIHA,kBAAC;QAAAA,iBAAK;QACtBA,8BAAgB;QAAAA,qBAAI;QAAAA,iBAAK;QACzBA,8BAAgB;QAAAA,yBAAQ;QAAAA,iBAAK;QAC7BA,8BAAgB;QAAAA,iCAAW;QAAAA,iBAAK;QAChCA,8BAA6B;QAAAA,+BAAc;QAAAA,iBAAK;QAChDA,yBAAqB;QACzBA,iBAAK;QAETA,8BAAO;QACHA,0FAEe;QACfA,yHAA0C;QAC9CA,iBAAQ;;;;QAxBIA,eACJ;QADIA,gEACJ;QAmBWA,gBAAsB;QAAtBA,0CAAsB","names":["i0","ExpenseListComponent","constructor","expenseService","ngOnInit","loadDataIntoTable","getExpenses","subscribe","expenses","calculateTotal","total","reduce","accumulated","currentValue","Number","amount","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Cursos\\crudAngularLaravel\\budget-buddy-app\\budget-buddy-app\\src\\app\\components\\expense-list\\expense-list.component.html","C:\\Cursos\\crudAngularLaravel\\budget-buddy-app\\budget-buddy-app\\src\\app\\components\\expense-list\\expense-list.component.ts"],"sourcesContent":["<div class=\"d-flex align-items-center justify-content-between gap-2 flex-wrap mt-5 mb-4\">\n    <h2>Gastos</h2>\n    <div class=\"d-flex align-items-center flex-wrap gap-3 gap-sm-5\">\n        <p class=\"m-0\">\n            <span class=\" fw-bold ms-1\">\n                <i class=\"ri-arrow-down-s-fill text-danger\">\n                    {{ total | currency }}\n                </i>\n            </span>\n        </p>\n        <a routerLink=\"/gastos/nuevo\" class=\" btn btn-primary\">Agregar gasto</a>\n    </div>\n</div>\n<div class=\"table-responsive mb-5\">\n    <table class=\"table\">\n        <thead>\n            <tr>\n                <th scope=\"col\">#</th>\n                <th scope=\"col\">Tipo</th>\n                <th scope=\"col\">Cantidad</th>\n                <th scope=\"col\">Descripción</th>\n                <th scope=\"col\" width=\"180\" >Fecha de gasto</th>\n                <th scope=\"col\"></th>\n            </tr>\n        </thead>\n        <tbody>\n            <ng-container *ngIf=\"expenses.length else emptyMessage\">\n\n            </ng-container>\n            <ng-template #emptyMessage>e</ng-template>\n        </tbody>\n    </table>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { Expense } from 'src/app/models/expense';\nimport { ExpenseService } from 'src/app/services/expense.service';\n\n@Component({\n  selector: 'app-expense-list',\n  templateUrl: './expense-list.component.html',\n  styleUrls: ['./expense-list.component.scss']\n})\nexport class ExpenseListComponent implements OnInit{\n  expenses: Expense[] = [];\n  total:number = 0;\n  constructor(\n    private expenseService: ExpenseService\n  ){}\n  ngOnInit(): void {\n    this.loadDataIntoTable();\n  }\n  loadDataIntoTable():void {\n    this.expenseService.getExpenses().subscribe( expenses => {\n      this.expenses = expenses;\n      this.calculateTotal();\n    })\n  }\n  calculateTotal(): void {\n    this.total = this.expenses.reduce((accumulated, currentValue) => {\n      return accumulated + Number(currentValue.amount);\n    }, 0)\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}