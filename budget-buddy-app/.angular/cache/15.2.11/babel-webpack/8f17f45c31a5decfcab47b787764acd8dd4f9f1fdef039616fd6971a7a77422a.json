{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/expense.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/router\";\nconst _c0 = function (a1) {\n  return [\"/gastos\", a1, \"editar\"];\n};\nfunction ExpenseListComponent_ng_container_28_tr_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\");\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"td\", 15)(13, \"div\")(14, \"a\", 16);\n    i0.ɵɵelement(15, \"i\", 17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"button\", 18);\n    i0.ɵɵelement(17, \"i\", 19);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const expense_r4 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(expense_r4.id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(expense_r4.type);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(7, 6, expense_r4.amount));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(expense_r4.description);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(expense_r4.expense_date);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(8, _c0, expense_r4.id));\n  }\n}\nfunction ExpenseListComponent_ng_container_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, ExpenseListComponent_ng_container_28_tr_1_Template, 18, 10, \"tr\", 14);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.expenses);\n  }\n}\nfunction ExpenseListComponent_ng_template_29_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\", 20);\n    i0.ɵɵtext(2, \" No hay datos para mostrar\");\n    i0.ɵɵelementEnd()();\n  }\n}\nexport class ExpenseListComponent {\n  constructor(expenseService) {\n    this.expenseService = expenseService;\n    this.expenses = [];\n    this.total = 0;\n  }\n  ngOnInit() {\n    this.loadDataIntoTable();\n  }\n  loadDataIntoTable() {\n    this.expenseService.getExpenses().subscribe(expenses => {\n      this.expenses = expenses;\n      this.calculateTotal();\n    });\n  }\n  calculateTotal() {\n    this.total = this.expenses.reduce((accumulated, currentValue) => {\n      return accumulated + Number(currentValue.amount);\n    }, 0);\n  }\n  static #_ = this.ɵfac = function ExpenseListComponent_Factory(t) {\n    return new (t || ExpenseListComponent)(i0.ɵɵdirectiveInject(i1.ExpenseService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ExpenseListComponent,\n    selectors: [[\"app-expense-list\"]],\n    decls: 31,\n    vars: 5,\n    consts: [[1, \"d-flex\", \"align-items-center\", \"justify-content-between\", \"gap-2\", \"flex-wrap\", \"mt-5\", \"mb-4\"], [1, \"section-title\"], [1, \"d-flex\", \"align-items-center\", \"flex-wrap\", \"gap-3\", \"gap-sm-5\"], [1, \"m-0\", \"total-spent-text\"], [1, \"fw-bold\", \"ms-1\"], [1, \"ri-arrow-down-s-fill\", \"text-danger\"], [\"routerLink\", \"/gastos/nuevo\", 1, \"btn\", \"btn-primary\"], [1, \"table-responsive\", \"mb-5\"], [1, \"table\"], [\"scope\", \"col\"], [\"scope\", \"col\", \"width\", \"180\"], [\"scope\", \"col\", 1, \"table-head-action\"], [4, \"ngIf\", \"ngIfElse\"], [\"emptyMessage\", \"\"], [4, \"ngFor\", \"ngForOf\"], [1, \"table-data-action\"], [3, \"routerLink\"], [1, \"ri-edit-box-line\"], [1, \"btn\", \"btn-link\", \"p-0\"], [1, \"ri-delete-bin-2-line\"], [\"colspan\", \"6\"]],\n    template: function ExpenseListComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\", 1);\n        i0.ɵɵtext(2, \"Gastos\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"div\", 2)(4, \"p\", 3);\n        i0.ɵɵtext(5, \" Total gastado: \");\n        i0.ɵɵelementStart(6, \"span\", 4)(7, \"i\", 5);\n        i0.ɵɵtext(8);\n        i0.ɵɵpipe(9, \"currency\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(10, \"a\", 6);\n        i0.ɵɵtext(11, \"Agregar gasto\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(12, \"div\", 7)(13, \"table\", 8)(14, \"thead\")(15, \"tr\")(16, \"th\", 9);\n        i0.ɵɵtext(17, \"#\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(18, \"th\", 9);\n        i0.ɵɵtext(19, \"Tipo\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(20, \"th\", 9);\n        i0.ɵɵtext(21, \"Cantidad\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(22, \"th\", 9);\n        i0.ɵɵtext(23, \"Descripci\\u00F3n\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(24, \"th\", 10);\n        i0.ɵɵtext(25, \"Fecha de gasto\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(26, \"th\", 11);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(27, \"tbody\");\n        i0.ɵɵtemplate(28, ExpenseListComponent_ng_container_28_Template, 2, 1, \"ng-container\", 12);\n        i0.ɵɵtemplate(29, ExpenseListComponent_ng_template_29_Template, 3, 0, \"ng-template\", null, 13, i0.ɵɵtemplateRefExtractor);\n        i0.ɵɵelementEnd()()();\n      }\n      if (rf & 2) {\n        const _r1 = i0.ɵɵreference(30);\n        i0.ɵɵadvance(8);\n        i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(9, 3, ctx.total), \" \");\n        i0.ɵɵadvance(20);\n        i0.ɵɵproperty(\"ngIf\", ctx.expenses.length)(\"ngIfElse\", _r1);\n      }\n    },\n    dependencies: [i2.NgForOf, i2.NgIf, i3.RouterLink, i2.CurrencyPipe],\n    styles: [\"@media screen and (max-width: 460px) {\\n  .total-spent-text[_ngcontent-%COMP%] {\\n    width: 100%;\\n  }\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9leHBlbnNlLWxpc3QvZXhwZW5zZS1saXN0LmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNFO0VBREY7SUFFSSxXQUFBO0VBQ0Y7QUFDRiIsInNvdXJjZXNDb250ZW50IjpbIi50b3RhbC1zcGVudC10ZXh0IHtcclxuICBAbWVkaWEgc2NyZWVuIGFuZCAoIG1heC13aWR0aDogNDYwcHggKSB7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICB9XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"mappings":";;;;;;;;;IA2BgBA,0BAAqC;IAC7BA,YAAgB;IAAAA,iBAAK;IACzBA,0BAAI;IAAAA,YAAkB;IAAAA,iBAAK;IAC3BA,0BAAI;IAAAA,YAA+B;;IAAAA,iBAAK;IACxCA,0BAAI;IAAAA,YAAyB;IAAAA,iBAAK;IAClCA,2BAAI;IAAAA,aAA0B;IAAAA,iBAAK;IACnCA,+BAA8B;IAE8BA,yBAAgC;IAAAA,iBAAI;IACxFA,mCAAiC;IAAAA,yBAAoC;IAAAA,iBAAS;;;;IARlFA,eAAgB;IAAhBA,mCAAgB;IAChBA,eAAkB;IAAlBA,qCAAkB;IAClBA,eAA+B;IAA/BA,6DAA+B;IAC/BA,eAAyB;IAAzBA,4CAAyB;IACzBA,eAA0B;IAA1BA,6CAA0B;IAGnBA,eAAgD;IAAhDA,sEAAgD;;;;;IATnEA,6BAAwD;IACpDA,sFAYK;IACTA,0BAAe;;;;IAbaA,eAAW;IAAXA,yCAAW;;;;;IAenCA,0BAAI;IACiBA,0CAAyB;IAAAA,iBAAK;;;AClCnE,OAAM,MAAOC,oBAAoB;EAG/BC,YACUC,cAA8B;IAA9B,mBAAc,GAAdA,cAAc;IAHxB,aAAQ,GAAc,EAAE;IACxB,UAAK,GAAU,CAAC;EAGd;EACFC,QAAQ;IACN,IAAI,CAACC,iBAAiB,EAAE;EAC1B;EACAA,iBAAiB;IACf,IAAI,CAACF,cAAc,CAACG,WAAW,EAAE,CAACC,SAAS,CAAEC,QAAQ,IAAG;MACtD,IAAI,CAACA,QAAQ,GAAGA,QAAQ;MACxB,IAAI,CAACC,cAAc,EAAE;IACvB,CAAC,CAAC;EACJ;EACAA,cAAc;IACZ,IAAI,CAACC,KAAK,GAAG,IAAI,CAACF,QAAQ,CAACG,MAAM,CAAC,CAACC,WAAW,EAAEC,YAAY,KAAI;MAC9D,OAAOD,WAAW,GAAGE,MAAM,CAACD,YAAY,CAACE,MAAM,CAAC;IAClD,CAAC,EAAE,CAAC,CAAC;EACP;EAAC;qBAnBUd,oBAAoB;EAAA;EAAA;UAApBA,oBAAoB;IAAAe;IAAAC;IAAAC;IAAAC;IAAAC;MAAA;QDTjCpB,8BAAyF;QAC3DA,sBAAM;QAAAA,iBAAK;QACrCA,8BAAgE;QAC3BA,gCAC7B;QAAAA,+BAA6B;QAErBA,YACJ;;QAAAA,iBAAI;QAGZA,6BAAuD;QAAAA,8BAAa;QAAAA,iBAAI;QAGhFA,+BAAmC;QAIHA,kBAAC;QAAAA,iBAAK;QACtBA,8BAAgB;QAAAA,qBAAI;QAAAA,iBAAK;QACzBA,8BAAgB;QAAAA,yBAAQ;QAAAA,iBAAK;QAC7BA,8BAAgB;QAAAA,iCAAW;QAAAA,iBAAK;QAChCA,+BAA6B;QAAAA,+BAAc;QAAAA,iBAAK;QAChDA,0BAA+C;QACnDA,iBAAK;QAETA,8BAAO;QACHA,0FAce;QACfA,yHAIc;QAClBA,iBAAQ;;;;QAxCIA,eACJ;QADIA,gEACJ;QAmBWA,gBAAsB;QAAtBA,0CAAsB","names":["i0","ExpenseListComponent","constructor","expenseService","ngOnInit","loadDataIntoTable","getExpenses","subscribe","expenses","calculateTotal","total","reduce","accumulated","currentValue","Number","amount","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Cursos\\crudAngularLaravel\\budget-buddy-app\\src\\app\\components\\expense-list\\expense-list.component.html","C:\\Cursos\\crudAngularLaravel\\budget-buddy-app\\src\\app\\components\\expense-list\\expense-list.component.ts"],"sourcesContent":["<div class=\"d-flex align-items-center justify-content-between gap-2 flex-wrap mt-5 mb-4\">\n    <h2 class=\"section-title\">Gastos</h2>\n    <div class=\"d-flex align-items-center flex-wrap gap-3 gap-sm-5\">\n        <p class=\"m-0 total-spent-text\"> Total gastado:\n            <span class=\" fw-bold ms-1 \">\n                <i class=\"ri-arrow-down-s-fill text-danger\">\n                    {{ total | currency }}\n                </i>\n            </span>\n        </p>\n        <a routerLink=\"/gastos/nuevo\" class=\" btn btn-primary\">Agregar gasto</a>\n    </div>\n</div>\n<div class=\"table-responsive mb-5\">\n    <table class=\"table\">\n        <thead>\n            <tr>\n                <th scope=\"col\">#</th>\n                <th scope=\"col\">Tipo</th>\n                <th scope=\"col\">Cantidad</th>\n                <th scope=\"col\">Descripción</th>\n                <th scope=\"col\" width=\"180\" >Fecha de gasto</th>\n                <th scope=\"col\" class=\"table-head-action\"></th>\n            </tr>\n        </thead>\n        <tbody>\n            <ng-container *ngIf=\"expenses.length else emptyMessage\">\n                <tr *ngFor=\"let expense of expenses\">\n                    <td>{{ expense.id }}</td>\n                    <td>{{ expense.type }}</td>\n                    <td>{{ expense.amount | currency }}</td>\n                    <td>{{ expense.description }}</td>\n                    <td>{{ expense.expense_date }}</td>\n                    <td class=\"table-data-action\">\n                        <div>\n                            <a [routerLink]=\"['/gastos', expense.id, 'editar']\"><i class=\"ri-edit-box-line\"></i></a>\n                            <button class=\"btn btn-link p-0\"><i class=\"ri-delete-bin-2-line\"></i></button>\n                        </div>\n                    </td>\n                </tr>\n            </ng-container>\n            <ng-template #emptyMessage>\n                <tr>\n                    <td colspan=\"6\"> No hay datos para mostrar</td>\n                </tr>\n            </ng-template>\n        </tbody>\n    </table>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { Expense } from 'src/app/models/expense';\nimport { ExpenseService } from 'src/app/services/expense.service';\n\n@Component({\n  selector: 'app-expense-list',\n  templateUrl: './expense-list.component.html',\n  styleUrls: ['./expense-list.component.scss']\n})\nexport class ExpenseListComponent implements OnInit{\n  expenses: Expense[] = [];\n  total:number = 0;\n  constructor(\n    private expenseService: ExpenseService\n  ){}\n  ngOnInit(): void {\n    this.loadDataIntoTable();\n  }\n  loadDataIntoTable():void {\n    this.expenseService.getExpenses().subscribe( expenses => {\n      this.expenses = expenses;\n      this.calculateTotal();\n    })\n  }\n  calculateTotal(): void {\n    this.total = this.expenses.reduce((accumulated, currentValue) => {\n      return accumulated + Number(currentValue.amount);\n    }, 0)\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}